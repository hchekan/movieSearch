(()=>{var e={535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r=s.p+"assets/img/clean.png"},56:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r=s.p+"assets/img/github.png"},353:(e,t,s)=>{var r=s(370),i=s(535),a=s(56),o='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>MovieSearch</title> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/css/swiper.min.css"> <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/js/swiper.min.js"><\/script> </head> <body> <header class="header"> <div class="header__container"> <div class="logo"> <h1 class="logo__text">MovieSearch</h1> </div> </div> </header> <div class="search__container"> <form> <input type="text" class="search__field" placeholder="Search movie..." autofocus> <button type="button" class="search__button">Search</button> <div class="search__loader"></div> <button type="reset" class="search__clean"><img src="'+r(i)+'" class="search__clean__image" alt="clean image"></button> </form> </div> <div class="message__container hide"> <div class="message"> </div> </div> <div class="error__container hide"> <div class="error"> </div> </div> <div class="swiper-container hide"> <div class="swiper-wrapper"> </div> <div class="swiper-pagination"></div> <div class="swiper-button-prev hide"></div> <div class="swiper-button-next hide"></div> </div> <footer class="footer"> <div class="footer__container"> <div class="footer__content"> <div class="footer__text"> RS School 2021 </div> <div class="footer__link__container"> <a href="https://github.com/hchekan" class="footer__link"><img src="'+r(a)+'" class="footer__image__github" alt="github image"><p>hchekan</p></a> </div> </div> </div> </footer> </body> </html>';e.exports=o},370:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e)}}},t={};function s(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="",(()=>{"use strict";s(353);const e=new Swiper(".swiper-container",{slidesPerView:4,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0,dynamicMainBullets:5},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{650:{slidesPerView:1},840:{slidesPerView:2},1070:{slidesPerView:3}}});let t,r,i=1;function a(){document.querySelector(".error__container").classList.toggle("hide"),document.querySelector(".search__loader").classList.toggle("hide")}async function o(t,s){const r=[];t.forEach((async(i,o)=>{const n=await fetch(`https://www.omdbapi.com/?i=${i}&apikey=5f3e76e3`);if(n.status>=200&&n.status<300){const i=await n.json();r[o]={title:i.Title,poster:i.Poster,year:i.Year,imdbID:i.imdbID,imdbRating:i.imdbRating},o===t.length-1&&(1===s&&e.removeAllSlides(),document.querySelector(".swiper-container").classList.remove("hide"),document.querySelector(".swiper-button-prev").classList.remove("hide"),document.querySelector(".swiper-button-next").classList.remove("hide"),function(t){document.querySelector(".search__loader").classList.add("hide"),t.forEach((t=>{e.appendSlide(`<div class="swiper-slide"><div><p class="slide__text" ><a href="https://www.imdb.com/title/${t.imdbID}/videogallery/">${t.title}</a></p><img class="slide__image" alt="movie poster" src=${t.poster}\n      ><p class="slide__text">${t.year}</p><p class="slide__text">${t.imdbRating}/10</p></div></div>`)}))}(r),r.length=0)}else a(),document.querySelector(".error").textContent=`Error ${n.status}`}))}async function n(e,s){r=e,i=s,document.querySelector(".error__container").classList.add("hide"),document.querySelector(".search__loader").classList.remove("hide");const n=`https://www.omdbapi.com/?s=${r}&page=${i}&apikey=5f3e76e3`,c=await fetch(n);if(c.status>=200&&c.status<300){const s=await c.json();if("True"===s.Response){1===i&&(t=s.totalResults);o(s.Search.map((e=>e.imdbID)),i)}else a(),document.querySelector(".error").textContent=`No result for ${e}`}else a(),document.querySelector(".error").textContent=`Error ${c.status}`}function c(){document.querySelector(".message__container").classList.add("hide");const e=document.querySelector(".search__field").value,t=/[а-я]/i.test(e);i=1,t?async function(e,t){const s=await fetch(`https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20210913T165808Z.cf93702052ed2d16.992775df39270417f806c4d2c03085e9b3d86180&text=${e}&lang=ru-en`);if(s.status>=200&&s.status<300){const e=await s.json();document.querySelector(".message__container").classList.remove("hide"),document.querySelector(".message").textContent=`Showing results for ${e.text[0]}`,n(e.text[0],t)}else document.querySelector(".error").textContent=`Error ${s.status}`}(e,i):n(e,i)}e.on("activeIndexChange",(()=>{const s=document.querySelectorAll(".swiper-slide").length;e.activeIndex>s-6&&s<t&&(i+=1,n(r,i))})),window.addEventListener("load",(()=>{n("dream",i)})),document.querySelector(".search__button").addEventListener("click",c),document.querySelector(".search__container").addEventListener("keydown",(e=>{13===e.keyCode&&(e.preventDefault(),c())}))})()})();